<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Requirements Engineering Dashboard | Sillah (صلة) Family Health Management System</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

  <style>
    :root {
      /* Light mode */
      --primary: #6c63ff;
      --primary-light: #8a84ff;
      --secondary: #ff6584;
      --accent: #36d1dc;
      --background: #ffffff;
      --surface: #f9f7fe;
      --text: #333344;
      --text-light: #666677;
      --border: #e1deff;
      --shadow: rgba(108, 99, 255, 0.1);
      --card: #ffffff;
      --success: #4cc9b0;
      --warning: #ffb347;
      --danger: #ff6b6b;

      /* Member accent (optional) */
      --shouq: #4cc9b0;
      --ghala: #6c63ff;
      --gala:  #ff6584;
      --salma: #ffb347;
      --shared:#8a84ff;
      --notes: #36d1dc;
      --tools: #ff6b6b;
    }

    body.dark-mode {
      /* Dark mode */
      --primary: #7d76ff;
      --primary-light: #9a94ff;
      --secondary: #ff7a96;
      --accent: #4de0eb;
      --background: #1a1a2e;
      --surface: #252542;
      --text: #f0f0ff;
      --text-light: #b0b0cc;
      --border: #3a3a5e;
      --shadow: rgba(0, 0, 0, 0.3);
      --card: #252542;
      --success: #5ad9c5;
      --warning: #ffc074;
      --danger: #ff7b7b;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      transition: background-color 0.25s, color 0.2s, border-color 0.25s;
    }

    body {
      background-color: var(--background);
      color: var(--text);
      line-height: 1.6;
      min-height: 100vh;
    }

    /* Language visibility (IMPORTANT: avoid inline display conflicts) */
    .ar-text {
      display: none;
      direction: rtl;
      text-align: right;
    }

    .container {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar */
    .sidebar {
      width: 280px;
      background: linear-gradient(180deg, var(--primary) 0%, #5a52d5 100%);
      padding: 25px 20px;
      display: flex;
      flex-direction: column;
      box-shadow: 5px 0 15px var(--shadow);
      z-index: 10;
    }

    .logo {
      display: flex;
      align-items: center;
      margin-bottom: 28px;
      color: #fff;
      font-size: 20px;
      font-weight: 800;
      gap: 10px;
    }

    .logo i { font-size: 24px; }

    .search-box { margin-bottom: 20px; position: relative; }
    .search-box input {
      width: 100%;
      padding: 12px 15px 12px 45px;
      border-radius: 50px;
      border: none;
      background-color: rgba(255, 255, 255, 0.15);
      color: #fff;
      font-size: 14px;
      outline: none;
    }
    .search-box input::placeholder { color: rgba(255,255,255,0.75); }
    .search-box i {
      position: absolute;
      left: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: #fff;
    }

    .language-toggle {
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 50px;
      padding: 8px;
      display: flex;
      margin-bottom: 22px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      gap: 8px;
    }
    .lang-btn {
      flex: 1;
      padding: 8px 12px;
      border-radius: 50px;
      border: none;
      background: transparent;
      color: #fff;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.25s;
    }
    .lang-btn.active { background-color: #fff; color: var(--primary); }

    .team-members { margin-bottom: 18px; }
    .team-title {
      color: #fff;
      font-size: 15px;
      margin-bottom: 12px;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .members-list { display: flex; flex-direction: column; gap: 12px; }
    .member {
      display: flex;
      align-items: center;
      padding: 12px 14px;
      background-color: rgba(255, 255, 255, 0.12);
      border-radius: 12px;
      color: #fff;
      cursor: pointer;
      transition: all 0.25s;
      gap: 12px;
    }
    .member:hover { background-color: rgba(255, 255, 255, 0.2); transform: translateX(5px); }
    .member.active {
      background-color: #fff;
      color: var(--primary);
      box-shadow: 0 6px 16px rgba(0,0,0,0.12);
    }

    .member-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.22);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 900;
      flex: 0 0 40px;
    }
    .member-name { font-weight: 800; font-size: 14px; }
    .member-task { font-size: 12px; opacity: 0.9; margin-top: 2px; }

    .sidebar-footer {
      margin-top: auto;
      color: rgba(255, 255, 255, 0.75);
      font-size: 12px;
      text-align: center;
      padding-top: 12px;
    }

    /* Main content */
    .main-content {
      flex: 1;
      padding: 30px;
      overflow-y: auto;
    }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 18px;
      margin-bottom: 26px;
      padding-bottom: 18px;
      border-bottom: 1px solid var(--border);
    }

    .header h1 { font-size: 26px; color: var(--primary); font-weight: 900; }

    .project-status { display: flex; gap: 12px; flex-wrap: wrap; justify-content: flex-end; }
    .status-badge {
      background-color: var(--primary-light);
      color: #fff;
      padding: 8px 14px;
      border-radius: 50px;
      font-size: 13px;
      font-weight: 800;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      white-space: nowrap;
    }

    /* Tabs */
    .tabs-container {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 24px;
      border-bottom: 1px solid var(--border);
      padding-bottom: 10px;
    }

    .tab-btn {
      padding: 12px 18px;
      background-color: transparent;
      border: none;
      border-radius: 50px;
      color: var(--text-light);
      font-weight: 800;
      cursor: pointer;
      transition: all 0.25s;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .tab-btn:hover { color: var(--primary); background-color: var(--shadow); }
    .tab-btn.active { background-color: var(--primary); color: #fff; }

    .tab-content { display: none; animation: fadeIn 0.35s; }
    .tab-content.active { display: block; }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Task cards */
    .task-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 22px;
    }

    .task-card {
      background-color: var(--card);
      border-radius: 16px;
      padding: 22px;
      box-shadow: 0 10px 25px var(--shadow);
      border: 1px solid var(--border);
      transition: all 0.25s;
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }
    .task-card:hover { transform: translateY(-4px); box-shadow: 0 15px 32px var(--shadow); }
    .task-card.expanded { grid-column: 1 / -1; z-index: 10; }

    .task-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 12px;
      gap: 10px;
    }

    .task-title { font-size: 18px; color: var(--primary); font-weight: 900; }
    .task-assignee {
      display: inline-flex;
      align-items: center;
      font-size: 13px;
      color: var(--text-light);
      white-space: nowrap;
      gap: 8px;
      padding-top: 2px;
    }
    .task-assignee i { color: var(--secondary); }

    .task-summary {
      color: var(--text-light);
      margin-bottom: 16px;
      max-height: 96px;
      overflow: hidden;
      transition: max-height 0.25s;
    }
    .task-card.expanded .task-summary { max-height: none; }

    .expand-icon {
      position: absolute;
      top: 18px;
      right: 18px;
      color: var(--text-light);
      transition: transform 0.25s;
      font-size: 18px;
      background: rgba(255, 255, 255, 0.12);
      width: 30px;
      height: 30px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    body.dark-mode .expand-icon { background: rgba(0,0,0,0.18); }
    .task-card.expanded .expand-icon { transform: rotate(180deg); color: var(--warning); }

    .task-details {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.45s ease;
      margin-top: 0;
      border-top: 1px solid transparent;
    }
    .task-card.expanded .task-details {
      max-height: 2500px;
      border-top: 1px solid var(--border);
      padding-top: 18px;
      margin-top: 14px;
    }

    .details-section { margin-bottom: 22px; }

    .section-title {
      font-size: 16px;
      color: var(--text);
      margin-bottom: 12px;
      font-weight: 900;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .section-title i { color: var(--accent); }

    .steps-list {
      list-style: none;
      counter-reset: step-counter;
      padding-left: 0;
    }
    .steps-list li {
      padding: 12px 0 12px 58px;
      border-bottom: 1px solid var(--border);
      position: relative;
      margin-bottom: 8px;
      font-size: 15px;
      line-height: 1.6;
    }
    .steps-list li:before {
      content: counter(step-counter);
      counter-increment: step-counter;
      position: absolute;
      left: 0;
      top: 12px;
      width: 38px;
      height: 38px;
      background-color: var(--primary);
      color: #fff;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      font-weight: 900;
    }
    .steps-list li:last-child { border-bottom: none; }

    .tools-list {
      list-style: none;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      padding-left: 0;
    }
    .tools-list li {
      background-color: var(--surface);
      padding: 10px 14px;
      border-radius: 999px;
      font-size: 13px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      border: 1px solid var(--border);
    }
    .tools-list li i { color: var(--primary); }

    .deliverables-list {
      list-style: none;
      padding-left: 6px;
    }
    .deliverables-list li {
      padding: 8px 0;
      border-bottom: 1px dashed var(--border);
      display: flex;
      align-items: flex-start;
      gap: 10px;
    }
    .deliverables-list li:last-child { border-bottom: none; }
    .deliverables-list li i { color: var(--success); margin-top: 3px; }

    .tag {
      display: inline-block;
      padding: 6px 12px;
      background-color: var(--primary-light);
      color: #fff;
      border-radius: 999px;
      font-size: 12px;
      margin-right: 8px;
      margin-bottom: 8px;
      font-weight: 800;
    }

    /* Progress */
    .progress-container { margin-top: 12px; }
    .progress-label {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 13px;
      color: var(--text-light);
      font-weight: 800;
    }
    .progress-bar {
      height: 8px;
      background-color: var(--border);
      border-radius: 6px;
      overflow: hidden;
    }
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--accent), var(--primary));
      border-radius: 6px;
      width: 0%;
      transition: width 0.5s ease;
    }

    /* Checklist */
    .checklist label {
      display: flex;
      gap: 10px;
      cursor: pointer;
      width: 100%;
      align-items: flex-start;
    }
    .checklist input[type="checkbox"] {
      transform: translateY(3px);
      width: 16px;
      height: 16px;
      accent-color: var(--primary);
      cursor: pointer;
    }

    /* Shared / Notes / Tools */
    .shared-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 22px;
    }
    .collaboration-card,
    .note-card,
    .tool-card {
      background-color: var(--card);
      border-radius: 16px;
      padding: 22px;
      box-shadow: 0 10px 25px var(--shadow);
      border: 1px solid var(--border);
    }

    .collab-title,
    .note-title {
      font-size: 18px;
      color: var(--primary);
      font-weight: 900;
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .tools-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 18px;
    }
    .tool-card { text-align: center; transition: transform 0.25s; }
    .tool-card:hover { transform: translateY(-4px); }
    .tool-icon { font-size: 38px; color: var(--primary); margin-bottom: 12px; }
    .tool-name { font-size: 16px; font-weight: 900; margin-bottom: 8px; color: var(--text); }
    .tool-category {
      font-size: 12px;
      color: var(--text-light);
      background-color: var(--border);
      padding: 5px 10px;
      border-radius: 999px;
      display: inline-block;
      margin-bottom: 12px;
      font-weight: 800;
    }
    .tool-desc { font-size: 13px; color: var(--text-light); }

    /* Dark mode toggle */
    .dark-mode-toggle {
      position: fixed;
      bottom: 24px;
      right: 24px;
      background-color: var(--primary);
      color: #fff;
      width: 58px;
      height: 58px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      cursor: pointer;
      box-shadow: 0 8px 20px rgba(0,0,0,0.25);
      z-index: 100;
      border: none;
    }

    /* Responsive */
    @media (max-width: 1100px) {
      .container { flex-direction: column; }
      .sidebar { width: 100%; padding: 18px; }
      .members-list {
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
      }
      .member { flex: 1; min-width: 220px; max-width: 320px; }
      .project-status { justify-content: flex-start; }
    }

    @media (max-width: 768px) {
      .task-grid { grid-template-columns: 1fr; }
      .header { flex-direction: column; align-items: flex-start; }
      .steps-list li { padding-left: 52px; font-size: 14px; }
      .steps-list li:before { width: 34px; height: 34px; font-size: 14px; }
    }
  </style>
</head>

<body>
  <div class="container">
    <!-- Sidebar -->
    <div class="sidebar">
      <div class="logo">
        <i class="fas fa-project-diagram"></i>
        <span class="en-text">Requirements Dashboard</span>
        <span class="ar-text">لوحة المتطلبات</span>
      </div>

      <div class="search-box">
        <i class="fas fa-search"></i>
        <input type="text" id="searchInput" placeholder="Search tasks, deliverables, tools..." />
      </div>

      <div class="language-toggle">
        <button class="lang-btn active" id="langEn">EN</button>
        <button class="lang-btn" id="langAr">AR</button>
      </div>

      <div class="team-members">
        <div class="team-title">
          <i class="fas fa-users"></i>
          <span class="en-text">Team Members</span>
          <span class="ar-text">أعضاء الفريق</span>
        </div>

        <div class="members-list">
          <div class="member active" data-tab="shouq">
            <div class="member-avatar">ش</div>
            <div>
              <div class="member-name">Shouq Alomran</div>
              <div class="member-task en-text">Team Lead: Elicitation Pack + Final Prioritized UR</div>
              <div class="member-task ar-text">قائدة الفريق: ملف الاستقصاء + قائمة متطلبات المستخدم النهائية</div>
            </div>
          </div>

          <div class="member" data-tab="ghala">
            <div class="member-avatar">غ</div>
            <div>
              <div class="member-name">Ghala Alsager</div>
              <div class="member-task en-text">User Requirements (Core Features) + MoSCoW</div>
              <div class="member-task ar-text">متطلبات المستخدم (الميزات الأساسية) + MoSCoW</div>
            </div>
          </div>

          <div class="member" data-tab="gala">
            <div class="member-avatar">ج</div>
            <div>
              <div class="member-name">Gala Alalula</div>
              <div class="member-task en-text">NFR + Constraints (PDPL, Security, RTL/LTR, Usability)</div>
              <div class="member-task ar-text">غير وظيفية + قيود (PDPL، الأمان، RTL/LTR، سهولة الاستخدام)</div>
            </div>
          </div>

          <div class="member" data-tab="salma">
            <div class="member-avatar">س</div>
            <div>
              <div class="member-name">Salma Al Khaldi</div>
              <div class="member-task en-text">Risks/Assumptions Log + Prioritization Rationale</div>
              <div class="member-task ar-text">سجل المخاطر/الافتراضات + تبرير ترتيب الأولويات</div>
            </div>
          </div>
        </div>
      </div>

      <div class="sidebar-footer">
        <div class="en-text">Sillah (صلة) — Family Health Management System</div>
        <div class="ar-text">سِلّة (صلة) — نظام إدارة صحة الأسرة</div>
      </div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
      <div class="header">
        <div>
          <h1 class="en-text">Requirements Engineering Dashboard</h1>
          <h1 class="ar-text">لوحة هندسة المتطلبات</h1>
        </div>

        <div class="project-status">
          <div class="status-badge">
            <i class="fas fa-tasks"></i>
            <span class="en-text">Deliverable 2: Elicitation + Prioritized User Requirements</span>
            <span class="ar-text">التسليم 2: الاستقصاء + ترتيب متطلبات المستخدم</span>
          </div>
          <div class="status-badge">
            <i class="fas fa-calendar-alt"></i>
            <span class="en-text">Due: Apr 2, 2026 • 11:00 PM</span>
            <span class="ar-text">موعد التسليم: ٢ أبريل ٢٠٢٦ • ١١:٠٠ م</span>
          </div>
        </div>
      </div>

      <!-- Tabs -->
      <div class="tabs-container">
        <button class="tab-btn active" data-tab="shouq">
          <i class="fas fa-user-gear"></i>
          <span class="en-text">Shouq</span>
          <span class="ar-text">شوق</span>
        </button>

        <button class="tab-btn" data-tab="ghala">
          <i class="fas fa-list-check"></i>
          <span class="en-text">Ghala</span>
          <span class="ar-text">غلا</span>
        </button>

        <button class="tab-btn" data-tab="gala">
          <i class="fas fa-shield-halved"></i>
          <span class="en-text">Gala</span>
          <span class="ar-text">جلا</span>
        </button>

        <button class="tab-btn" data-tab="salma">
          <i class="fas fa-triangle-exclamation"></i>
          <span class="en-text">Salma</span>
          <span class="ar-text">سلمى</span>
        </button>

        <button class="tab-btn" data-tab="shared">
          <i class="fas fa-users"></i>
          <span class="en-text">Shared Work</span>
          <span class="ar-text">العمل المشترك</span>
        </button>

        <button class="tab-btn" data-tab="notes">
          <i class="fas fa-sticky-note"></i>
          <span class="en-text">Notes</span>
          <span class="ar-text">الملاحظات</span>
        </button>

        <button class="tab-btn" data-tab="tools">
          <i class="fas fa-tools"></i>
          <span class="en-text">Tools</span>
          <span class="ar-text">الأدوات</span>
        </button>
      </div>

      <!-- =========================
           SHOUQ TAB
      ========================== -->
      <div id="shouq" class="tab-content active">
        <div class="task-grid">
          <!-- Task 1 -->
          <div class="task-card" data-task="1">
            <div class="task-header">
              <div>
                <div class="task-title en-text">Deliverable 2 Submission Pack (Elicitation Notes + Evidence)</div>
                <div class="task-title ar-text">حزمة تسليم 2 (ملاحظات الاستقصاء + الأدلة)</div>
              </div>
              <div class="task-assignee">
                <i class="fas fa-user-check"></i><span>Shouq</span>
              </div>
            </div>

            <i class="fas fa-chevron-down expand-icon"></i>

            <div class="task-summary en-text">
              Compile the Deliverable 2 package for Sillah: finalized elicitation notes (interview/workshop/survey),
              proof of elicitation (screenshots, forms, consent, meeting agenda), and a clean folder structure for submission.
            </div>
            <div class="task-summary ar-text">
              تجهيز حزمة تسليم 2 لسِلّة: ملاحظات الاستقصاء النهائية (مقابلات/ورشة/استبيان)،
              وأدلة الاستقصاء (صور/نماذج/موافقة/أجندة)، وترتيب الملفات بشكل جاهز للتسليم.
            </div>

            <div class="progress-container">
              <div class="progress-label">
                <span class="en-text">Progress</span><span class="ar-text">التقدم</span>
                <span class="progress-percent">0%</span>
              </div>
              <div class="progress-bar"><div class="progress-fill"></div></div>
            </div>

            <div class="task-details">
              <div class="details-section">
                <div class="section-title">
                  <i class="fas fa-list-ol"></i>
                  <span class="en-text">Step-by-Step Instructions</span>
                  <span class="ar-text">تعليمات خطوة بخطوة</span>
                </div>

                <ol class="steps-list">
                  <li class="en-text"><strong>Finalize notes:</strong> clean the elicitation notes (consistent stakeholder names, dates, and key quotes).</li>
                  <li class="ar-text"><strong>تدقيق الملاحظات:</strong> ترتيب ملاحظات الاستقصاء وتوحيد أسماء أصحاب المصلحة والتواريخ والنقاط الأساسية.</li>

                  <li class="en-text"><strong>Evidence folder:</strong> screenshots of survey, interview agenda, meeting invite, consent (if used), and attendance proof.</li>
                  <li class="ar-text"><strong>مجلد الأدلة:</strong> صور للاستبيان، أجندة المقابلة/الورشة، الدعوة، الموافقة إن وجدت، وإثبات الحضور.</li>

                  <li class="en-text"><strong>Index page:</strong> create a one-page “Elicitation Summary” listing methods, participants, and artifacts.</li>
                  <li class="ar-text"><strong>صفحة ملخص:</strong> إنشاء صفحة واحدة تلخص الطرق، المشاركين، والملفات الناتجة.</li>

                  <li class="en-text"><strong>Consistency check:</strong> make sure every major feature has at least one elicitation source.</li>
                  <li class="ar-text"><strong>فحص الاتساق:</strong> التأكد أن كل ميزة رئيسية لها مصدر استقصاء واضح.</li>

                  <li class="en-text"><strong>Submission structure:</strong> zip folder as: /Deliverable2/Notes /Evidence /PrioritizedRequirements /NFR /Risks.</li>
                  <li class="ar-text"><strong>هيكلة التسليم:</strong> ضغط الملفات: /Deliverable2/Notes /Evidence /PrioritizedRequirements /NFR /Risks.</li>
                </ol>
              </div>

              <div class="details-section checklist-section">
                <div class="section-title">
                  <i class="fas fa-check-square"></i>
                  <span class="en-text">Checklist</span><span class="ar-text">قائمة التحقق</span>
                </div>

                <ul class="deliverables-list checklist">
                  <li><label><input type="checkbox" class="progress-check" data-check="notes-final">
                    <span class="en-text">Finalized elicitation notes</span><span class="ar-text">أنهيت ملاحظات الاستقصاء</span></label></li>

                  <li><label><input type="checkbox" class="progress-check" data-check="evidence">
                    <span class="en-text">Collected elicitation evidence</span><span class="ar-text">جمعت أدلة الاستقصاء</span></label></li>

                  <li><label><input type="checkbox" class="progress-check" data-check="summary">
                    <span class="en-text">Created elicitation summary page</span><span class="ar-text">أنشأت صفحة ملخص الاستقصاء</span></label></li>

                  <li><label><input type="checkbox" class="progress-check" data-check="structure">
                    <span class="en-text">Prepared submission folder structure</span><span class="ar-text">جهزت هيكلة مجلد التسليم</span></label></li>

                  <li><label><input type="checkbox" class="progress-check" data-check="review">
                    <span class="en-text">Completed team review of deliverable pack</span><span class="ar-text">تمت مراجعة الحزمة مع الفريق</span></label></li>
                </ul>
              </div>

              <div class="details-section">
                <div class="section-title">
                  <i class="fas fa-tools"></i>
                  <span class="en-text">Tools Needed</span><span class="ar-text">الأدوات المطلوبة</span>
                </div>
                <ul class="tools-list">
                  <li><i class="fas fa-file-alt"></i><span class="en-text">Google Docs / Word</span><span class="ar-text">Google Docs / Word</span></li>
                  <li><i class="fas fa-folder-open"></i><span class="en-text">Drive / OneDrive</span><span class="ar-text">Drive / OneDrive</span></li>
                  <li><i class="fas fa-camera"></i><span class="en-text">Screenshots (evidence)</span><span class="ar-text">لقطات شاشة (أدلة)</span></li>
                </ul>
              </div>

              <div class="details-section">
                <div class="section-title">
                  <i class="fas fa-clipboard-check"></i>
                  <span class="en-text">Deliverables</span><span class="ar-text">المخرجات</span>
                </div>
                <ul class="deliverables-list">
                  <li><i class="fas fa-check-circle"></i><span class="en-text">Elicitation Notes (clean)</span><span class="ar-text">ملاحظات الاستقصاء (مرتبة)</span></li>
                  <li><i class="fas fa-check-circle"></i><span class="en-text">Elicitation Evidence Pack</span><span class="ar-text">حزمة أدلة الاستقصاء</span></li>
                  <li><i class="fas fa-check-circle"></i><span class="en-text">Elicitation Summary (1 page)</span><span class="ar-text">ملخص الاستقصاء (صفحة واحدة)</span></li>
                </ul>
              </div>

              <div class="details-section">
                <div class="section-title">
                  <i class="fas fa-tags"></i>
                  <span class="en-text">Tags</span><span class="ar-text">العلامات</span>
                </div>
                <div>
                  <span class="tag en-text">Deliverable 2</span><span class="tag ar-text">التسليم 2</span>
                  <span class="tag en-text">Elicitation</span><span class="tag ar-text">الاستقصاء</span>
                  <span class="tag en-text">Evidence</span><span class="tag ar-text">الأدلة</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Task 2 -->
          <div class="task-card" data-task="2">
            <div class="task-header">
              <div>
                <div class="task-title en-text">Actors + System Boundary (Sillah)</div>
                <div class="task-title ar-text">الجهات الفاعلة + حدود النظام (سِلّة)</div>
              </div>
              <div class="task-assignee">
                <i class="fas fa-user-check"></i><span>Shouq</span>
              </div>
            </div>

            <i class="fas fa-chevron-down expand-icon"></i>

            <div class="task-summary en-text">
              Define Sillah actors and system boundaries for core scope: Families (primary users), Healthcare Providers,
              Administrators. Clarify simulated vs real (clinic booking is simulated; no EHR integration; no diagnosis).
            </div>
            <div class="task-summary ar-text">
              تحديد الجهات الفاعلة وحدود نظام سِلّة ضمن النطاق الأساسي: العائلات (المستخدم الأساسي)، مقدمي الرعاية،
              الإداريين. توضيح ما هو محاكاة وما هو فعلي (حجز العيادة محاكاة؛ بدون تكامل EHR؛ بدون تشخيص).
            </div>

            <div class="progress-container">
              <div class="progress-label">
                <span class="en-text">Progress</span><span class="ar-text">التقدم</span>
                <span class="progress-percent">0%</span>
              </div>
              <div class="progress-bar"><div class="progress-fill"></div></div>
            </div>

            <div class="task-details">
              <div class="details-section">
                <div class="section-title">
                  <i class="fas fa-list-ol"></i>
                  <span class="en-text">Step-by-Step Instructions</span>
                  <span class="ar-text">تعليمات خطوة بخطوة</span>
                </div>

                <ol class="steps-list">
                  <li class="en-text"><strong>List actors:</strong> Parent/Guardian, Family Member, Healthcare Provider, Admin, (optional) Awareness Content Manager.</li>
                  <li class="ar-text"><strong>تحديد الجهات:</strong> ولي الأمر/الوصي، فرد من الأسرة، مقدم رعاية صحية، إداري، (اختياري) مسؤول المحتوى.</li>

                  <li class="en-text"><strong>Boundary statement:</strong> what Sillah does vs what it doesn’t (no diagnosis, no EHR integration, simulated booking).</li>
                  <li class="ar-text"><strong>حدود النظام:</strong> ما الذي يقدمه سِلّة وما لا يقدمه (لا تشخيص، لا تكامل EHR، الحجز محاكاة).</li>

                  <li class="en-text"><strong>Permissions:</strong> draft RBAC rules (who can view/edit health events, alerts, family profiles).</li>
                  <li class="ar-text"><strong>الصلاحيات:</strong> مسودة RBAC (من يستطيع عرض/تعديل الأحداث الصحية، التنبيهات، ملفات الأسرة).</li>

                  <li class="en-text"><strong>External touchpoints:</strong> notifications (SMS/email/app), guidelines source for rules (manual updates).</li>
                  <li class="ar-text"><strong>نقاط خارجية:</strong> الإشعارات (SMS/Email/داخل التطبيق)، مصدر القواعد (تحديث يدوي).</li>

                  <li class="en-text"><strong>Review with team:</strong> align with requirements list and NFR constraints.</li>
                  <li class="ar-text"><strong>مراجعة مع الفريق:</strong> التأكد من الاتساق مع متطلبات المستخدم وقيود NFR.</li>
                </ol>
              </div>

              <div class="details-section checklist-section">
                <div class="section-title">
                  <i class="fas fa-check-square"></i>
                  <span class="en-text">Checklist</span><span class="ar-text">قائمة التحقق</span>
                </div>

                <ul class="deliverables-list checklist">
                  <li><label><input type="checkbox" class="progress-check" data-check="actors">
                    <span class="en-text">Defined Sillah actors</span><span class="ar-text">حددت الجهات الفاعلة</span></label></li>

                  <li><label><input type="checkbox" class="progress-check" data-check="boundary">
                    <span class="en-text">Wrote system boundary statement</span><span class="ar-text">كتبت حدود النظام</span></label></li>

                  <li><label><input type="checkbox" class="progress-check" data-check="rbac">
                    <span class="en-text">Drafted RBAC/permissions</span><span class="ar-text">جهزت صلاحيات RBAC</span></label></li>

                  <li><label><input type="checkbox" class="progress-check" data-check="touchpoints">
                    <span class="en-text">Listed external touchpoints</span><span class="ar-text">حددت النقاط الخارجية</span></label></li>

                  <li><label><input type="checkbox" class="progress-check" data-check="alignment">
                    <span class="en-text">Aligned with UR/NFR lists</span><span class="ar-text">تأكدت من الاتساق مع UR/NFR</span></label></li>
                </ul>
              </div>

              <div class="details-section">
                <div class="section-title">
                  <i class="fas fa-clipboard-check"></i>
                  <span class="en-text">Deliverables</span><span class="ar-text">المخرجات</span>
                </div>

                <ul class="deliverables-list">
                  <li><i class="fas fa-check-circle"></i><span class="en-text">Actors List + Definitions</span><span class="ar-text">قائمة الجهات الفاعلة + تعريفاتها</span></li>
                  <li><i class="fas fa-check-circle"></i><span class="en-text">System Boundary Notes</span><span class="ar-text">ملاحظات حدود النظام</span></li>
                  <li><i class="fas fa-check-circle"></i><span class="en-text">RBAC / Permissions Draft</span><span class="ar-text">مسودة الصلاحيات RBAC</span></li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- =========================
           GHALA TAB
      ========================== -->
      <div id="ghala" class="tab-content">
        <div class="task-grid">
          <!-- Task 1 -->
          <div class="task-card" data-task="1">
            <div class="task-header">
              <div>
                <div class="task-title en-text">User Requirements Draft (UR-IDs) — Core Features</div>
                <div class="task-title ar-text">مسودة متطلبات المستخدم (UR-IDs) — الميزات الأساسية</div>
              </div>
              <div class="task-assignee"><i class="fas fa-user-check"></i><span>Ghala</span></div>
            </div>

            <i class="fas fa-chevron-down expand-icon"></i>

            <div class="task-summary en-text">
              Draft Sillah User Requirements (UR-IDs) for core features: family member management, health events recording,
              rule-based risk detection, alerts/recommendations, awareness hub, alert history, and basic clinic booking simulation.
              Include acceptance criteria and elicitation source.
            </div>
            <div class="task-summary ar-text">
              كتابة متطلبات المستخدم لسِلّة (UR-IDs) للميزات الأساسية: إدارة أفراد الأسرة، تسجيل الأحداث الصحية،
              كشف المخاطر بالقواعد، التنبيهات/التوصيات، مركز التوعية، سجل التنبيهات، ومحاكاة حجز العيادة.
              مع معايير قبول ومصدر الاستقصاء.
            </div>

            <div class="progress-container">
              <div class="progress-label">
                <span class="en-text">Progress</span><span class="ar-text">التقدم</span>
                <span class="progress-percent">0%</span>
              </div>
              <div class="progress-bar"><div class="progress-fill"></div></div>
            </div>

            <div class="task-details">
              <div class="details-section">
                <div class="section-title"><i class="fas fa-list-ol"></i>
                  <span class="en-text">Step-by-Step Instructions</span><span class="ar-text">تعليمات خطوة بخطوة</span>
                </div>

                <ol class="steps-list">
                  <li class="en-text"><strong>Extract URs:</strong> from elicitation notes; keep original wording in “source” column.</li>
                  <li class="ar-text"><strong>استخراج المتطلبات:</strong> من ملاحظات الاستقصاء مع حفظ الصياغة الأصلية في خانة المصدر.</li>

                  <li class="en-text"><strong>Structure:</strong> UR-01..UR-xx with “As a [actor], I want [capability], so that [value]”.</li>
                  <li class="ar-text"><strong>تنظيم:</strong> ترقيم UR-01.. مع صيغة “كمستخدم/جهة، أريد… لكي…”.</li>

                  <li class="en-text"><strong>Acceptance criteria:</strong> 2–4 bullet checks per UR (clear and testable).</li>
                  <li class="ar-text"><strong>معايير القبول:</strong> 2–4 نقاط لكل متطلب تكون واضحة وقابلة للاختبار.</li>

                  <li class="en-text"><strong>Group by feature:</strong> family, events, risk rules, alerts, awareness, booking simulation.</li>
                  <li class="ar-text"><strong>تجميع حسب الميزة:</strong> الأسرة، الأحداث، قواعد المخاطر، التنبيهات، التوعية، الحجز (محاكاة).</li>

                  <li class="en-text"><strong>Trace source:</strong> link each UR to stakeholder/method (interview/workshop/survey).</li>
                  <li class="ar-text"><strong>ربط المصدر:</strong> ربط كل UR بصاحب المصلحة وطريقة الاستقصاء.</li>
                </ol>
              </div>

              <div class="details-section checklist-section">
                <div class="section-title"><i class="fas fa-check-square"></i>
                  <span class="en-text">Checklist</span><span class="ar-text">قائمة التحقق</span>
                </div>
                <ul class="deliverables-list checklist">
                  <li><label><input type="checkbox" class="progress-check" data-check="sheet">
                    <span class="en-text">Created UR spreadsheet (UR-IDs)</span><span class="ar-text">أنشأت جدول UR-IDs</span></label></li>

                  <li><label><input type="checkbox" class="progress-check" data-check="core">
                    <span class="en-text">Covered all core features</span><span class="ar-text">غطّيت كل الميزات الأساسية</span></label></li>

                  <li><label><input type="checkbox" class="progress-check" data-check="ac">
                    <span class="en-text">Added acceptance criteria</span><span class="ar-text">أضفت معايير القبول</span></label></li>

                  <li><label><input type="checkbox" class="progress-check" data-check="source">
                    <span class="en-text">Linked elicitation sources</span><span class="ar-text">ربطت مصادر الاستقصاء</span></label></li>
                </ul>
              </div>

              <div class="details-section">
                <div class="section-title"><i class="fas fa-clipboard-check"></i>
                  <span class="en-text">Deliverables</span><span class="ar-text">المخرجات</span>
                </div>
                <ul class="deliverables-list">
                  <li><i class="fas fa-check-circle"></i><span class="en-text">User Requirements List (UR-IDs)</span><span class="ar-text">قائمة متطلبات المستخدم (UR-IDs)</span></li>
                  <li><i class="fas fa-check-circle"></i><span class="en-text">Acceptance Criteria per UR</span><span class="ar-text">معايير قبول لكل متطلب</span></li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Task 2 -->
          <div class="task-card" data-task="2">
            <div class="task-header">
              <div>
                <div class="task-title en-text">Prioritization (MoSCoW) + Validation Notes</div>
                <div class="task-title ar-text">ترتيب الأولويات (MoSCoW) + ملاحظات التحقق</div>
              </div>
              <div class="task-assignee"><i class="fas fa-user-check"></i><span>Ghala</span></div>
            </div>

            <i class="fas fa-chevron-down expand-icon"></i>

            <div class="task-summary en-text">
              Prioritize Sillah user requirements using MoSCoW. For each UR include rationale (impact, frequency, risk).
              Produce the final “Prioritized User Requirements List” required for Deliverable 2.
            </div>
            <div class="task-summary ar-text">
              ترتيب أولويات متطلبات المستخدم باستخدام MoSCoW. لكل متطلب أضف تبرير (الأثر، التكرار، المخاطر).
              المخرج النهائي: “قائمة متطلبات المستخدم ذات الأولوية” المطلوبة في تسليم 2.
            </div>

            <div class="progress-container">
              <div class="progress-label">
                <span class="en-text">Progress</span><span class="ar-text">التقدم</span>
                <span class="progress-percent">0%</span>
              </div>
              <div class="progress-bar"><div class="progress-fill"></div></div>
            </div>

            <div class="task-details">
              <div class="details-section">
                <div class="section-title"><i class="fas fa-list-ol"></i>
                  <span class="en-text">Step-by-Step Instructions</span><span class="ar-text">تعليمات خطوة بخطوة</span>
                </div>

                <ol class="steps-list">
                  <li class="en-text"><strong>MoSCoW:</strong> mark each UR Must/Should/Could/Won’t for this release.</li>
                  <li class="ar-text"><strong>MoSCoW:</strong> تصنيف كل UR إلى Must/Should/Could/Won’t للإصدار الحالي.</li>

                  <li class="en-text"><strong>Rationale:</strong> add 1–2 lines why (safety impact, adoption, PDPL, effort).</li>
                  <li class="ar-text"><strong>التبرير:</strong> سطر أو سطرين يوضح السبب (أثر صحي، تبني، PDPL، جهد).</li>

                  <li class="en-text"><strong>Conflicts:</strong> flag any conflicts/ambiguity for team discussion.</li>
                  <li class="ar-text"><strong>التعارض:</strong> تحديد التعارض أو الغموض للنقاش مع الفريق.</li>

                  <li class="en-text"><strong>Validation notes:</strong> record what stakeholders agreed on (or what needs follow-up).</li>
                  <li class="ar-text"><strong>ملاحظات التحقق:</strong> توثيق ما تم الاتفاق عليه وما يحتاج متابعة.</li>
                </ol>
              </div>

              <div class="details-section checklist-section">
                <div class="section-title"><i class="fas fa-check-square"></i>
                  <span class="en-text">Checklist</span><span class="ar-text">قائمة التحقق</span>
                </div>
                <ul class="deliverables-list checklist">
                  <li><label><input type="checkbox" class="progress-check" data-check="moscow">
                    <span class="en-text">Applied MoSCoW to all URs</span><span class="ar-text">طبقت MoSCoW على جميع المتطلبات</span></label></li>
                  <li><label><input type="checkbox" class="progress-check" data-check="rationale">
                    <span class="en-text">Added prioritization rationale</span><span class="ar-text">أضفت تبرير ترتيب الأولويات</span></label></li>
                  <li><label><input type="checkbox" class="progress-check" data-check="validation">
                    <span class="en-text">Documented validation notes</span><span class="ar-text">وثقت ملاحظات التحقق</span></label></li>
                </ul>
              </div>

              <div class="details-section">
                <div class="section-title"><i class="fas fa-clipboard-check"></i>
                  <span class="en-text">Deliverables</span><span class="ar-text">المخرجات</span>
                </div>
                <ul class="deliverables-list">
                  <li><i class="fas fa-check-circle"></i><span class="en-text">Prioritized User Requirements List</span><span class="ar-text">قائمة متطلبات المستخدم ذات الأولوية</span></li>
                  <li><i class="fas fa-check-circle"></i><span class="en-text">MoSCoW Matrix + Rationale</span><span class="ar-text">مصفوفة MoSCoW + التبرير</span></li>
                </ul>
              </div>
            </div>
          </div>

        </div>
      </div>

      <!-- =========================
           GALA TAB
      ========================== -->
      <div id="gala" class="tab-content">
        <div class="task-grid">
          <!-- Task 1 -->
          <div class="task-card" data-task="1">
            <div class="task-header">
              <div>
                <div class="task-title en-text">Non-Functional Requirements + Constraints (SMART)</div>
                <div class="task-title ar-text">المتطلبات غير الوظيفية + القيود (قابلة للقياس)</div>
              </div>
              <div class="task-assignee"><i class="fas fa-user-check"></i><span>Gala</span></div>
            </div>

            <i class="fas fa-chevron-down expand-icon"></i>

            <div class="task-summary en-text">
              Identify Sillah NFRs and constraints: PDPL compliance for health data, security (auth/RBAC, session handling),
              bilingual RTL/LTR, mobile-first usability, reliability and clarity. Convert them into measurable (SMART) statements.
            </div>
            <div class="task-summary ar-text">
              تحديد المتطلبات غير الوظيفية والقيود: الامتثال لـ PDPL لبيانات الصحة، الأمان (تسجيل الدخول/RBAC/الجلسات)،
              ثنائية اللغة RTL/LTR، سهولة الاستخدام للهاتف، الاعتمادية والوضوح. تحويلها لمتطلبات قابلة للقياس (SMART).
            </div>

            <div class="progress-container">
              <div class="progress-label">
                <span class="en-text">Progress</span><span class="ar-text">التقدم</span>
                <span class="progress-percent">0%</span>
              </div>
              <div class="progress-bar"><div class="progress-fill"></div></div>
            </div>

            <div class="task-details">
              <div class="details-section">
                <div class="section-title"><i class="fas fa-list-ol"></i>
                  <span class="en-text">Step-by-Step Instructions</span><span class="ar-text">تعليمات خطوة بخطوة</span>
                </div>

                <ol class="steps-list">
                  <li class="en-text"><strong>Categories:</strong> Security, Privacy/PDPL, Usability, Performance, Reliability, Maintainability, Accessibility.</li>
                  <li class="ar-text"><strong>الفئات:</strong> الأمان، الخصوصية/PDPL، سهولة الاستخدام، الأداء، الاعتمادية، القابلية للصيانة، الإتاحة.</li>

                  <li class="en-text"><strong>Make measurable:</strong> response time targets, audit-log retention, password policy, availability, error rates.</li>
                  <li class="ar-text"><strong>قابلة للقياس:</strong> زمن الاستجابة، مدة الاحتفاظ بالسجلات، سياسة كلمات المرور، التوفر، نسب الأخطاء.</li>

                  <li class="en-text"><strong>RTL/LTR:</strong> ensure layout parity + correct direction switching.</li>
                  <li class="ar-text"><strong>RTL/LTR:</strong> ضمان تساوي التصميم واتجاه النص عند التبديل.</li>

                  <li class="en-text"><strong>Security baseline:</strong> RBAC, least privilege, session timeout, and secure storage notes.</li>
                  <li class="ar-text"><strong>خط أساس الأمان:</strong> RBAC، أقل صلاحية، انتهاء الجلسة، وملاحظات التخزين الآمن.</li>
                </ol>
              </div>

              <div class="details-section checklist-section">
                <div class="section-title"><i class="fas fa-check-square"></i>
                  <span class="en-text">Checklist</span><span class="ar-text">قائمة التحقق</span>
                </div>

                <ul class="deliverables-list checklist">
                  <li><label><input type="checkbox" class="progress-check" data-check="cats">
                    <span class="en-text">Defined NFR categories</span><span class="ar-text">حددت فئات NFR</span></label></li>
                  <li><label><input type="checkbox" class="progress-check" data-check="pdpl">
                    <span class="en-text">Added PDPL/privacy constraints</span><span class="ar-text">أضفت قيود الخصوصية وPDPL</span></label></li>
                  <li><label><input type="checkbox" class="progress-check" data-check="smart">
                    <span class="en-text">Converted NFRs to SMART</span><span class="ar-text">حولت NFR إلى قابلة للقياس</span></label></li>
                  <li><label><input type="checkbox" class="progress-check" data-check="rtl">
                    <span class="en-text">Documented RTL/LTR requirements</span><span class="ar-text">وثقت متطلبات RTL/LTR</span></label></li>
                </ul>
              </div>

              <div class="details-section">
                <div class="section-title"><i class="fas fa-clipboard-check"></i>
                  <span class="en-text">Deliverables</span><span class="ar-text">المخرجات</span>
                </div>
                <ul class="deliverables-list">
                  <li><i class="fas fa-check-circle"></i><span class="en-text">NFR Document (SMART)</span><span class="ar-text">وثيقة NFR (قابلة للقياس)</span></li>
                  <li><i class="fas fa-check-circle"></i><span class="en-text">Constraints List</span><span class="ar-text">قائمة القيود</span></li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Task 2 -->
          <div class="task-card" data-task="2">
            <div class="task-header">
              <div>
                <div class="task-title en-text">Quality Attribute Scenarios (Usability/Security/Privacy)</div>
                <div class="task-title ar-text">سيناريوهات سمات الجودة (سهولة الاستخدام/الأمان/الخصوصية)</div>
              </div>
              <div class="task-assignee"><i class="fas fa-user-check"></i><span>Gala</span></div>
            </div>

            <i class="fas fa-chevron-down expand-icon"></i>

            <div class="task-summary en-text">
              Write quality attribute scenarios (stimulus → response) for key qualities: privacy/PDPL handling of health data,
              authentication/RBAC, and mobile usability. Keep them short and test-oriented.
            </div>
            <div class="task-summary ar-text">
              كتابة سيناريوهات الجودة (مثير → استجابة) للخصائص الأساسية: الخصوصية/PDPL لبيانات الصحة،
              المصادقة/RBAC، وسهولة استخدام الهاتف. تكون قصيرة وقابلة للاختبار.
            </div>

            <div class="progress-container">
              <div class="progress-label">
                <span class="en-text">Progress</span><span class="ar-text">التقدم</span>
                <span class="progress-percent">0%</span>
              </div>
              <div class="progress-bar"><div class="progress-fill"></div></div>
            </div>

            <div class="task-details">
              <div class="details-section checklist-section">
                <div class="section-title"><i class="fas fa-check-square"></i>
                  <span class="en-text">Checklist</span><span class="ar-text">قائمة التحقق</span>
                </div>
                <ul class="deliverables-list checklist">
                  <li><label><input type="checkbox" class="progress-check" data-check="sec">
                    <span class="en-text">Security scenarios written</span><span class="ar-text">كتبت سيناريوهات الأمان</span></label></li>
                  <li><label><input type="checkbox" class="progress-check" data-check="privacy">
                    <span class="en-text">Privacy/PDPL scenarios written</span><span class="ar-text">كتبت سيناريوهات الخصوصية/PDPL</span></label></li>
                  <li><label><input type="checkbox" class="progress-check" data-check="ux">
                    <span class="en-text">Usability scenarios written</span><span class="ar-text">كتبت سيناريوهات سهولة الاستخدام</span></label></li>
                </ul>
              </div>

              <div class="details-section">
                <div class="section-title"><i class="fas fa-clipboard-check"></i>
                  <span class="en-text">Deliverables</span><span class="ar-text">المخرجات</span>
                </div>
                <ul class="deliverables-list">
                  <li><i class="fas fa-check-circle"></i><span class="en-text">Quality Attribute Scenarios</span><span class="ar-text">سيناريوهات سمات الجودة</span></li>
                </ul>
              </div>
            </div>
          </div>

        </div>
      </div>

      <!-- =========================
           SALMA TAB
      ========================== -->
      <div id="salma" class="tab-content">
        <div class="task-grid">
          <!-- Task 1 -->
          <div class="task-card" data-task="1">
            <div class="task-header">
              <div>
                <div class="task-title en-text">Risk & Assumptions Log (Sillah)</div>
                <div class="task-title ar-text">سجل المخاطر والافتراضات (سِلّة)</div>
              </div>
              <div class="task-assignee"><i class="fas fa-user-check"></i><span>Salma</span></div>
            </div>

            <i class="fas fa-chevron-down expand-icon"></i>

            <div class="task-summary en-text">
              Build Sillah risk/assumption log focused on adoption trust, data quality, guideline changes (rule updates),
              PDPL/security complexity, and usability dropout. Score probability/impact and keep mitigation notes.
            </div>
            <div class="task-summary ar-text">
              إنشاء سجل مخاطر/افتراضات لسِلّة يركز على الثقة والتبني، جودة البيانات، تغيّر الإرشادات (تحديث القواعد)،
              تعقيد PDPL/الأمان، ومخاطر ضعف سهولة الاستخدام. مع تقييم احتمال/تأثير وخطط تخفيف.
            </div>

            <div class="progress-container">
              <div class="progress-label">
                <span class="en-text">Progress</span><span class="ar-text">التقدم</span>
                <span class="progress-percent">0%</span>
              </div>
              <div class="progress-bar"><div class="progress-fill"></div></div>
            </div>

            <div class="task-details">
              <div class="details-section checklist-section">
                <div class="section-title"><i class="fas fa-check-square"></i>
                  <span class="en-text">Checklist</span><span class="ar-text">قائمة التحقق</span>
                </div>

                <ul class="deliverables-list checklist">
                  <li><label><input type="checkbox" class="progress-check" data-check="list">
                    <span class="en-text">Listed risks by category</span><span class="ar-text">حددت المخاطر حسب الفئة</span></label></li>
                  <li><label><input type="checkbox" class="progress-check" data-check="score">
                    <span class="en-text">Scored probability & impact</span><span class="ar-text">قيّمت الاحتمالية والتأثير</span></label></li>
                  <li><label><input type="checkbox" class="progress-check" data-check="assume">
                    <span class="en-text">Documented assumptions</span><span class="ar-text">وثقت الافتراضات</span></label></li>
                  <li><label><input type="checkbox" class="progress-check" data-check="mitigate">
                    <span class="en-text">Drafted mitigation notes</span><span class="ar-text">جهزت ملاحظات التخفيف</span></label></li>
                </ul>
              </div>

              <div class="details-section">
                <div class="section-title"><i class="fas fa-clipboard-check"></i>
                  <span class="en-text">Deliverables</span><span class="ar-text">المخرجات</span>
                </div>
                <ul class="deliverables-list">
                  <li><i class="fas fa-check-circle"></i><span class="en-text">Risk Register</span><span class="ar-text">سجل المخاطر</span></li>
                  <li><i class="fas fa-check-circle"></i><span class="en-text">Assumptions Log</span><span class="ar-text">سجل الافتراضات</span></li>
                </ul>
              </div>
            </div>
          </div>

          <!-- Task 2 -->
          <div class="task-card" data-task="2">
            <div class="task-header">
              <div>
                <div class="task-title en-text">Mitigation Plan + Prioritization Rationale Support</div>
                <div class="task-title ar-text">خطة التخفيف + دعم تبرير ترتيب الأولويات</div>
              </div>
              <div class="task-assignee"><i class="fas fa-user-check"></i><span>Salma</span></div>
            </div>

            <i class="fas fa-chevron-down expand-icon"></i>

            <div class="task-summary en-text">
              For high-priority risks, write mitigation actions and what the team should do if risk happens.
              Provide short notes that help justify UR prioritization (safety/privacy risk vs effort).
            </div>
            <div class="task-summary ar-text">
              للمخاطر ذات الأولوية العالية: كتابة إجراءات التخفيف وماذا نفعل إذا حدثت.
              وإضافة ملاحظات تساعد في تبرير ترتيب UR (مخاطر سلامة/خصوصية مقابل الجهد).
            </div>

            <div class="progress-container">
              <div class="progress-label">
                <span class="en-text">Progress</span><span class="ar-text">التقدم</span>
                <span class="progress-percent">0%</span>
              </div>
              <div class="progress-bar"><div class="progress-fill"></div></div>
            </div>

            <div class="task-details">
              <div class="details-section checklist-section">
                <div class="section-title"><i class="fas fa-check-square"></i>
                  <span class="en-text">Checklist</span><span class="ar-text">قائمة التحقق</span>
                </div>

                <ul class="deliverables-list checklist">
                  <li><label><input type="checkbox" class="progress-check" data-check="top">
                    <span class="en-text">Selected top/high risks</span><span class="ar-text">حددت أعلى المخاطر</span></label></li>
                  <li><label><input type="checkbox" class="progress-check" data-check="plan">
                    <span class="en-text">Wrote mitigation + contingency</span><span class="ar-text">كتبت التخفيف + الطوارئ</span></label></li>
                  <li><label><input type="checkbox" class="progress-check" data-check="rationale2">
                    <span class="en-text">Added notes supporting UR priorities</span><span class="ar-text">أضفت ملاحظات تدعم ترتيب UR</span></label></li>
                </ul>
              </div>

              <div class="details-section">
                <div class="section-title"><i class="fas fa-clipboard-check"></i>
                  <span class="en-text">Deliverables</span><span class="ar-text">المخرجات</span>
                </div>
                <ul class="deliverables-list">
                  <li><i class="fas fa-check-circle"></i><span class="en-text">Mitigation/Contingency Notes</span><span class="ar-text">ملاحظات التخفيف/الطوارئ</span></li>
                  <li><i class="fas fa-check-circle"></i><span class="en-text">Risk-based Prioritization Rationale</span><span class="ar-text">تبرير ترتيب الأولويات بناءً على المخاطر</span></li>
                </ul>
              </div>
            </div>
          </div>

        </div>
      </div>

      <!-- =========================
           SHARED WORK TAB
      ========================== -->
      <div id="shared" class="tab-content">
        <div class="shared-grid">
          <div class="collaboration-card">
            <div class="collab-title">
              <i class="fas fa-handshake"></i>
              <span class="en-text">How We Will Coordinate</span>
              <span class="ar-text">كيف سنتعاون</span>
            </div>

            <div class="en-text" style="margin-bottom: 12px; color: var(--text-light);">
              Deliverable 2 requires (1) elicitation notes + evidence and (2) a prioritized user requirements list.
              Work in parallel, then merge into one consistent submission pack.
            </div>
            <div class="ar-text" style="margin-bottom: 12px; color: var(--text-light);">
              تسليم 2 يتطلب: (1) ملاحظات الاستقصاء + الأدلة، و(2) قائمة متطلبات المستخدم ذات الأولوية.
              نعمل بالتوازي ثم ندمج كل شيء في حزمة واحدة متسقة.
            </div>

            <ul class="deliverables-list">
              <li><i class="fas fa-calendar-check"></i><span class="en-text">Weekly sync (30 min)</span><span class="ar-text">اجتماع أسبوعي (30 دقيقة)</span></li>
              <li><i class="fas fa-user-friends"></i><span class="en-text">Peer review across sections</span><span class="ar-text">مراجعة الأقران بين الأقسام</span></li>
              <li><i class="fas fa-check-double"></i><span class="en-text">Terminology consistency (UR/NFR/Risk)</span><span class="ar-text">اتساق المصطلحات (UR/NFR/مخاطر)</span></li>
              <li><i class="fas fa-file-zipper"></i><span class="en-text">One final zip structure</span><span class="ar-text">ملف مضغوط نهائي واحد</span></li>
            </ul>
          </div>

          <div class="collaboration-card">
            <div class="collab-title">
              <i class="fas fa-link"></i>
              <span class="en-text">Integration Points</span>
              <span class="ar-text">نقاط التكامل</span>
            </div>

            <ul class="deliverables-list">
              <li><i class="fas fa-exchange-alt"></i><span class="en-text">Shouq → Ghala: elicitation sources for each UR</span><span class="ar-text">شوق → غلا: مصادر الاستقصاء لكل UR</span></li>
              <li><i class="fas fa-exchange-alt"></i><span class="en-text">Ghala → Gala: UR priorities influence NFR constraints (security/privacy)</span><span class="ar-text">غلا → جلا: الأولويات تؤثر على قيود الأمان/الخصوصية</span></li>
              <li><i class="fas fa-exchange-alt"></i><span class="en-text">All → Salma: UR/NFR feed risk register</span><span class="ar-text">الجميع → سلمى: UR/NFR تغذي سجل المخاطر</span></li>
              <li><i class="fas fa-exchange-alt"></i><span class="en-text">Salma → Ghala: risk-based rationale for MoSCoW</span><span class="ar-text">سلمى → غلا: تبرير ترتيب الأولويات بناءً على المخاطر</span></li>
            </ul>
          </div>

          <div class="collaboration-card">
            <div class="collab-title">
              <i class="fas fa-calendar-alt"></i>
              <span class="en-text">Milestones (Suggested)</span>
              <span class="ar-text">المعالم (اقتراح)</span>
            </div>

            <ul class="deliverables-list">
              <li><i class="fas fa-calendar-day"></i><span class="en-text">Day 1–2: UR draft + evidence collection</span><span class="ar-text">اليوم 1–2: مسودة UR + جمع الأدلة</span></li>
              <li><i class="fas fa-calendar-day"></i><span class="en-text">Day 3: MoSCoW + NFR SMART + risks scoring</span><span class="ar-text">اليوم 3: MoSCoW + NFR قابلة للقياس + تقييم المخاطر</span></li>
              <li><i class="fas fa-calendar-day"></i><span class="en-text">Day 4: Peer review + fixes</span><span class="ar-text">اليوم 4: مراجعة + تعديلات</span></li>
              <li><i class="fas fa-calendar-day"></i><span class="en-text">Day 5: Final merge + submission zip</span><span class="ar-text">اليوم 5: دمج نهائي + ملف التسليم</span></li>
            </ul>
          </div>

          <div class="collaboration-card">
            <div class="collab-title">
              <i class="fas fa-file-alt"></i>
              <span class="en-text">Deliverable 2 Output Map</span>
              <span class="ar-text">خريطة مخرجات تسليم 2</span>
            </div>

            <ul class="deliverables-list">
              <li><i class="fas fa-check-circle"></i><span class="en-text">Elicitation Notes + Evidence (Shouq)</span><span class="ar-text">ملاحظات الاستقصاء + الأدلة (شوق)</span></li>
              <li><i class="fas fa-check-circle"></i><span class="en-text">Prioritized User Requirements (Ghala)</span><span class="ar-text">متطلبات المستخدم ذات الأولوية (غلا)</span></li>
              <li><i class="fas fa-check-circle"></i><span class="en-text">NFR/Constraints (Gala)</span><span class="ar-text">غير وظيفية/قيود (جلا)</span></li>
              <li><i class="fas fa-check-circle"></i><span class="en-text">Risk/Assumptions + Mitigation (Salma)</span><span class="ar-text">مخاطر/افتراضات + تخفيف (سلمى)</span></li>
            </ul>
          </div>
        </div>
      </div>

      <!-- =========================
           NOTES TAB
      ========================== -->
      <div id="notes" class="tab-content">
        <div class="notes-container">
          <div class="note-card">
            <div class="note-title">
              <i class="fas fa-lightbulb"></i>
              <span class="en-text">Sillah Scope Reminder</span>
              <span class="ar-text">تذكير بنطاق سِلّة</span>
            </div>

            <div class="en-text" style="color: var(--text-light); line-height: 1.75;">
              <p><strong>Core Release Focus:</strong> family profiles, health-event recording, rule-based risk detection, alerts/recommendations, awareness hub, alert history, and simulated clinic booking.</p>
              <p><strong>Out of Scope (for now):</strong> medical diagnosis, real EHR integrations, and full hospital appointment systems.</p>
              <p><strong>Non-Functional Baselines:</strong> PDPL/privacy, RBAC, bilingual RTL/LTR, mobile-first usability.</p>
            </div>

            <div class="ar-text" style="color: var(--text-light); line-height: 1.75;">
              <p><strong>تركيز الإصدار الأساسي:</strong> ملفات الأسرة، تسجيل الأحداث الصحية، كشف المخاطر بالقواعد، التنبيهات/التوصيات، مركز التوعية، سجل التنبيهات، ومحاكاة حجز العيادة.</p>
              <p><strong>خارج النطاق حالياً:</strong> التشخيص الطبي، تكاملات EHR الحقيقية، وأنظمة مواعيد المستشفيات الكاملة.</p>
              <p><strong>أساسيات غير وظيفية:</strong> الخصوصية/PDPL، RBAC، ثنائية اللغة RTL/LTR، سهولة استخدام الهاتف.</p>
            </div>
          </div>

          <div class="note-card">
            <div class="note-title">
              <i class="fas fa-users"></i>
              <span class="en-text">Stakeholder Priorities (Sillah)</span>
              <span class="ar-text">أولويات أصحاب المصلحة (سِلّة)</span>
            </div>

            <div class="en-text" style="color: var(--text-light); line-height: 1.75;">
              <p><strong>Families/Guardians:</strong> simple entry, clear alerts, trust, and privacy for sensitive family data.</p>
              <p><strong>Healthcare Providers (advisory):</strong> safe guidance framing, clarity, and avoiding “diagnosis” language.</p>
              <p><strong>Administrators:</strong> content governance, rule updates, audit logs, and PDPL alignment.</p>
            </div>

            <div class="ar-text" style="color: var(--text-light); line-height: 1.75;">
              <p><strong>العائلات/أولياء الأمور:</strong> إدخال بسيط، تنبيهات واضحة، ثقة، وخصوصية للبيانات الحساسة.</p>
              <p><strong>مقدمو الرعاية (استشاري):</strong> صياغة إرشادات آمنة وواضحة وتجنب لغة “التشخيص”.</p>
              <p><strong>الإداريون:</strong> إدارة المحتوى، تحديث القواعد، سجلات التدقيق، والالتزام بـ PDPL.</p>
            </div>
          </div>

          <div class="note-card">
            <div class="note-title">
              <i class="fas fa-exclamation-triangle"></i>
              <span class="en-text">Common Risks to Watch</span>
              <span class="ar-text">مخاطر شائعة</span>
            </div>

            <div class="en-text" style="color: var(--text-light); line-height: 1.75;">
              <ul style="margin-left: 18px; margin-top: 10px;">
                <li>User-entered data quality (incomplete/inaccurate events)</li>
                <li>Trust/adoption risk if alerts feel “medical”</li>
                <li>Rule updates if guidelines change</li>
                <li>Privacy/security complexity (PDPL)</li>
                <li>Usability drop-off on mobile</li>
              </ul>
            </div>

            <div class="ar-text" style="color: var(--text-light); line-height: 1.75;">
              <ul style="margin-right: 18px; margin-top: 10px;">
                <li>جودة بيانات المستخدم (نقص/عدم دقة)</li>
                <li>مخاطر الثقة إذا بدت التنبيهات “طبية”</li>
                <li>تحديث القواعد عند تغيّر الإرشادات</li>
                <li>تعقيد الخصوصية/الأمان (PDPL)</li>
                <li>ضعف سهولة الاستخدام على الهاتف</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- =========================
           TOOLS TAB
      ========================== -->
      <div id="tools" class="tab-content">
        <div class="tools-grid">
          <div class="tool-card">
            <div class="tool-icon"><i class="fas fa-file-signature"></i></div>
            <div class="tool-name en-text">Elicitation Artifacts</div>
            <div class="tool-name ar-text">ملفات الاستقصاء</div>
            <div class="tool-category en-text">Deliverable 2</div>
            <div class="tool-category ar-text">التسليم 2</div>
            <p class="tool-desc en-text">Interview notes, workshop notes, survey forms, and evidence screenshots.</p>
            <p class="tool-desc ar-text">ملاحظات مقابلات/ورش/استبيانات + لقطات شاشة للأدلة.</p>
          </div>

          <div class="tool-card">
            <div class="tool-icon"><i class="fas fa-table"></i></div>
            <div class="tool-name en-text">Requirements Spreadsheet</div>
            <div class="tool-name ar-text">جدول المتطلبات</div>
            <div class="tool-category en-text">UR + MoSCoW</div>
            <div class="tool-category ar-text">UR + MoSCoW</div>
            <p class="tool-desc en-text">UR-IDs, sources, acceptance criteria, MoSCoW priority, rationale.</p>
            <p class="tool-desc ar-text">UR-IDs، المصادر، معايير القبول، MoSCoW، والتبرير.</p>
          </div>

          <div class="tool-card">
            <div class="tool-icon"><i class="fas fa-shield-halved"></i></div>
            <div class="tool-name en-text">Security & Privacy Checklist</div>
            <div class="tool-name ar-text">قائمة الأمان والخصوصية</div>
            <div class="tool-category en-text">NFR / PDPL</div>
            <div class="tool-category ar-text">NFR / PDPL</div>
            <p class="tool-desc en-text">RBAC notes, audit logging, privacy constraints, session policy.</p>
            <p class="tool-desc ar-text">RBAC، سجلات التدقيق، قيود الخصوصية، سياسة الجلسات.</p>
          </div>

          <div class="tool-card">
            <div class="tool-icon"><i class="fas fa-triangle-exclamation"></i></div>
            <div class="tool-name en-text">Risk Register</div>
            <div class="tool-name ar-text">سجل المخاطر</div>
            <div class="tool-category en-text">Risk & Assumptions</div>
            <div class="tool-category ar-text">مخاطر وافتراضات</div>
            <p class="tool-desc en-text">Probability/impact scoring, mitigation, contingency, notes.</p>
            <p class="tool-desc ar-text">تقييم احتمال/تأثير، تخفيف، طوارئ، ملاحظات.</p>
          </div>

          <div class="tool-card">
            <div class="tool-icon"><i class="fas fa-cloud"></i></div>
            <div class="tool-name en-text">Collaboration</div>
            <div class="tool-name ar-text">التعاون</div>
            <div class="tool-category en-text">Team Work</div>
            <div class="tool-category ar-text">عمل الفريق</div>
            <p class="tool-desc en-text">Drive/OneDrive + shared naming conventions + final zip.</p>
            <p class="tool-desc ar-text">Drive/OneDrive + تسمية موحدة + ملف تسليم مضغوط.</p>
          </div>

          <div class="tool-card">
            <div class="tool-icon"><i class="fas fa-code-branch"></i></div>
            <div class="tool-name en-text">Versioning</div>
            <div class="tool-name ar-text">إدارة الإصدارات</div>
            <div class="tool-category en-text">Document Control</div>
            <div class="tool-category ar-text">ضبط الوثائق</div>
            <p class="tool-desc en-text">Use version history or Git for tracking edits and merging.</p>
            <p class="tool-desc ar-text">استخدام سجل الإصدارات أو Git لتتبع التعديلات والدمج.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Dark Mode Toggle -->
  <button class="dark-mode-toggle" id="darkModeToggle" aria-label="Toggle dark mode">
    <i class="fas fa-moon"></i>
  </button>

  <script>
    document.addEventListener("DOMContentLoaded", function () {

      // ===== Tabs switching =====
      const tabTriggers = document.querySelectorAll(".tab-btn, .member");
      tabTriggers.forEach((element) => {
        element.addEventListener("click", function () {
          const tabId = this.getAttribute("data-tab");

          // Update tab buttons
          document.querySelectorAll(".tab-btn").forEach((btn) => btn.classList.remove("active"));
          const tabBtn = document.querySelector(`.tab-btn[data-tab="${tabId}"]`);
          if (tabBtn) tabBtn.classList.add("active");

          // Update member selection
          document.querySelectorAll(".member").forEach((m) => m.classList.remove("active"));
          const memBtn = document.querySelector(`.member[data-tab="${tabId}"]`);
          if (memBtn) memBtn.classList.add("active");

          // Update tab content
          document.querySelectorAll(".tab-content").forEach((content) => content.classList.remove("active"));
          const content = document.getElementById(tabId);
          if (content) content.classList.add("active");

          closeAllExpandedCards();
          document.querySelectorAll(".task-card").forEach(updateProgressUI);
        });
      });

      // ===== Language switching =====
      const langEnBtn = document.getElementById("langEn");
      const langArBtn = document.getElementById("langAr");

      langEnBtn.addEventListener("click", function () { switchLanguage("en"); });
      langArBtn.addEventListener("click", function () { switchLanguage("ar"); });

      function switchLanguage(lang) {
        langEnBtn.classList.remove("active");
        langArBtn.classList.remove("active");

        if (lang === "en") {
          langEnBtn.classList.add("active");
          document.querySelectorAll(".en-text").forEach((el) => el.style.display = "");
          document.querySelectorAll(".ar-text").forEach((el) => el.style.display = "none");
          document.body.style.direction = "ltr";
          document.body.style.textAlign = "left";
        } else {
          langArBtn.classList.add("active");
          document.querySelectorAll(".en-text").forEach((el) => el.style.display = "none");
          document.querySelectorAll(".ar-text").forEach((el) => el.style.display = "");
          document.body.style.direction = "rtl";
          document.body.style.textAlign = "right";
        }

        const sidebar = document.querySelector(".sidebar");
        sidebar.style.textAlign = (lang === "ar") ? "right" : "left";
      }

      // ===== Expandable cards =====
      const taskCards = document.querySelectorAll(".task-card");
      const expandIcons = document.querySelectorAll(".expand-icon");

      function closeAllExpandedCards() {
        taskCards.forEach((card) => card.classList.remove("expanded"));
      }

      expandIcons.forEach((icon) => {
        icon.addEventListener("click", function (e) {
          e.stopPropagation();
          const card = this.closest(".task-card");
          const isExpanded = card.classList.contains("expanded");

          closeAllExpandedCards();
          if (!isExpanded) {
            card.classList.add("expanded");
            setTimeout(() => card.scrollIntoView({ behavior: "smooth", block: "nearest" }), 80);
          }
        });
      });

      taskCards.forEach((card) => {
        card.addEventListener("click", function (e) {
          if (e.target.classList.contains("expand-icon") || e.target.closest(".expand-icon")) return;
          if (e.target.tagName === "A" || e.target.tagName === "BUTTON" || e.target.closest("a") || e.target.closest("button")) return;

          const isExpanded = this.classList.contains("expanded");
          closeAllExpandedCards();
          if (!isExpanded) {
            this.classList.add("expanded");
            setTimeout(() => this.scrollIntoView({ behavior: "smooth", block: "nearest" }), 80);
          }
        });
      });

      document.addEventListener("click", function (e) {
        if (!e.target.closest(".task-card")) closeAllExpandedCards();
      });

      // ===== Search =====
      const searchInput = document.getElementById("searchInput");
      searchInput.addEventListener("keyup", function () {
        const searchTerm = this.value.toLowerCase();
        const activeTab = document.querySelector(".tab-content.active");
        if (!activeTab) return;

        const isSpecial = (activeTab.id === "shared" || activeTab.id === "notes" || activeTab.id === "tools");

        if (searchTerm.length < 2) {
          if (isSpecial) {
            activeTab.querySelectorAll(".collaboration-card, .note-card, .tool-card").forEach((card) => card.style.display = "block");
          } else {
            activeTab.querySelectorAll(".task-card").forEach((card) => card.style.display = "block");
          }
          return;
        }

        if (isSpecial) {
          activeTab.querySelectorAll(".collaboration-card, .note-card, .tool-card").forEach((card) => {
            const cardText = card.textContent.toLowerCase();
            card.style.display = cardText.includes(searchTerm) ? "block" : "none";
          });
        } else {
          activeTab.querySelectorAll(".task-card").forEach((card) => {
            const cardText = card.textContent.toLowerCase();
            card.style.display = cardText.includes(searchTerm) ? "block" : "none";
          });
        }
      });

      // ===== Dark mode toggle =====
      const darkModeToggle = document.getElementById("darkModeToggle");
      const prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)");

      const currentTheme = localStorage.getItem("theme");
      if (currentTheme === "dark" || (!currentTheme && prefersDarkScheme.matches)) {
        document.body.classList.add("dark-mode");
        darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
      } else {
        darkModeToggle.innerHTML = '<i class="fas fa-moon"></i>';
      }

      darkModeToggle.addEventListener("click", () => {
        document.body.classList.toggle("dark-mode");
        if (document.body.classList.contains("dark-mode")) {
          localStorage.setItem("theme", "dark");
          darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        } else {
          localStorage.setItem("theme", "light");
          darkModeToggle.innerHTML = '<i class="fas fa-moon"></i>';
        }
      });

      // ===== Progress Checklist Engine =====
      function getTaskKey(taskCard) {
        const tab = taskCard.closest(".tab-content")?.id || "unknownTab";
        const task = taskCard.getAttribute("data-task") || "unknownTask";
        return `taskProgress:${tab}:${task}`;
      }

      function loadChecks(taskCard) {
        const key = getTaskKey(taskCard);
        const saved = localStorage.getItem(key);
        if (!saved) return;

        let obj;
        try { obj = JSON.parse(saved); } catch { return; }

        taskCard.querySelectorAll(".progress-check").forEach((cb) => {
          const id = cb.getAttribute("data-check");
          if (id && obj[id] !== undefined) cb.checked = !!obj[id];
        });
      }

      function saveChecks(taskCard) {
        const key = getTaskKey(taskCard);
        const obj = {};
        taskCard.querySelectorAll(".progress-check").forEach((cb) => {
          const id = cb.getAttribute("data-check");
          if (id) obj[id] = cb.checked;
        });
        localStorage.setItem(key, JSON.stringify(obj));
      }

      function updateProgressUI(taskCard) {
        const checks = Array.from(taskCard.querySelectorAll(".progress-check"));
        const percentEl = taskCard.querySelector(".progress-percent");
        const fillEl = taskCard.querySelector(".progress-fill");

        if (checks.length === 0 || !percentEl || !fillEl) return;

        const checked = checks.filter((c) => c.checked).length;
        const percent = Math.round((checked / checks.length) * 100);

        percentEl.textContent = `${percent}%`;
        requestAnimationFrame(() => { fillEl.style.width = `${percent}%`; });
      }

      function wireTaskCard(taskCard) {
        loadChecks(taskCard);
        updateProgressUI(taskCard);

        taskCard.querySelectorAll(".progress-check").forEach((cb) => {
          cb.addEventListener("change", (e) => {
            e.stopPropagation();
            saveChecks(taskCard);
            updateProgressUI(taskCard);
          });
        });

        taskCard.querySelectorAll(".checklist label").forEach((lbl) => {
          lbl.addEventListener("click", (e) => e.stopPropagation());
        });
      }

      document.querySelectorAll(".task-card").forEach(wireTaskCard);

      // Initialize with English
      switchLanguage("en");
    });
  </script>
</body>
</html>
